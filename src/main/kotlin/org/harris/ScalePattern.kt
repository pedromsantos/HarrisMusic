package org.harris

import org.harris.Interval.*

enum class ScalePattern(private val pattern: Array<Interval>) {
    Ionian(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            PerfectFifth,
            MajorSixth,
            MajorSeventh
        )
    ),
    Dorian(
        arrayOf(
            Unison,
            MajorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MajorSixth,
            MinorSeventh
        )
    ),
    Phrygian(
        arrayOf(
            Unison,
            MinorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MinorSeventh
        )
    ),
    Lydian(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            AugmentedFourth,
            PerfectFifth,
            MajorSixth,
            MajorSeventh
        )
    ),
    Mixolydian(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            PerfectFifth,
            MajorSixth,
            MinorSeventh
        )
    ),
    Aolian(
        arrayOf(
            Unison,
            MajorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MinorSeventh
        )
    ),
    Locrian(
        arrayOf(
            Unison,
            MinorSecond,
            MinorThird,
            PerfectFourth,
            DiminishedFifth,
            MinorSixth,
            MinorSeventh
        )
    ),
    MajorPentatonic(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFifth,
            MajorSixth
        )
    ),
    MinorPentatonic(
        arrayOf(
            Unison,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSeventh
        )
    ),
    Blues(
        arrayOf(
            Unison,
            MinorThird,
            PerfectFourth,
            DiminishedFifth,
            PerfectFifth,
            MinorSeventh
        )
    ),
    HarmonicMinor
        (
        arrayOf(
            Unison,
            MajorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MajorSeventh
        )
    ),
    MelodicMinor(
        arrayOf(
            Unison,
            MajorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MajorSixth,
            MajorSeventh
        )
    ),
    DorianFlat2(
        arrayOf(
            Unison,
            MinorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MajorSixth,
            MinorSeventh
        )
    ),
    NeapolitanMinor(
        arrayOf(
            Unison,
            MinorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MajorSeventh
        )
    ),
    LydianAugmented(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            AugmentedFourth,
            AugmentedFifth,
            MajorSixth,
            MajorSeventh
        )
    ),
    LydianDominant(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            AugmentedFourth,
            PerfectFifth,
            MajorSixth,
            MinorSeventh
        )
    ),
    MixolydianFlat6(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MinorSeventh
        )
    ),
    Bebop(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            PerfectFifth,
            MajorSixth,
            MinorSeventh,
            MajorSeventh
        )
    ),
    LocrianSharp2(
        arrayOf(
            Unison,
            MajorSecond,
            MinorThird,
            PerfectFourth,
            DiminishedFifth,
            MinorSixth,
            MinorSeventh
        )
    ),
    AlteredDominant(
        arrayOf(
            Unison,
            MinorSecond,
            AugmentedNinth,
            MajorThird,
            DiminishedFifth,
            AugmentedFifth,
            MinorSeventh
        )
    ),
    HalfWholeDiminished(
        arrayOf(
            Unison,
            MinorSecond,
            MinorThird,
            MajorThird,
            AugmentedFourth,
            PerfectFifth,
            MajorSixth,
            MinorSeventh
        )
    ),
    WholeTone(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            DiminishedFifth,
            AugmentedFifth,
            MinorSeventh
        )
    ),
    MajorSixthDiminished(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MajorSixth,
            MajorSeventh
        )
    ),
    MinorSixthDiminished(
        arrayOf(
            Unison,
            MajorSecond,
            MinorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MajorSixth,
            MajorSeventh
        )
    ),
    DominantDiminished(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            PerfectFifth,
            MinorSixth,
            MinorSeventh,
            MajorSeventh
        )
    ),
    DominantFlat5Diminished(
        arrayOf(
            Unison,
            MajorSecond,
            MajorThird,
            PerfectFourth,
            DiminishedFifth,
            MinorSixth,
            MinorSeventh,
            MajorSeventh
        )
    );

    fun createScale(root: Note) : Scale {
        return Scale(this, root)
    }

    fun notes(root: Note) : Array<Note> {
        return pattern.map{ root.transpose(it) }.toTypedArray()
    }
}

enum class ScaleDegree {
    I, II, III, IV, V, VI, VII
}

